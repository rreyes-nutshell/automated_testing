<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Crawl Results</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
	<style>
		td.truncate {
			max-width: 480px;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	</style>
</head>
<body class="bg-light">
	<div class="container py-4">
		<h2 class="mb-4">Crawl Results</h2>
		{% if session_id %}
			<p class="text-muted">Session ID: {{ session_id }}</p>
		{% endif %}
		<a href="{{ url_for('ui_map_admin.index') }}" class="btn btn-secondary mb-3">â¬… Back to Admin</a>

		<table id="resultsTable" class="table table-bordered table-hover">
			<thead class="table-light">
				<tr>
					<th>Label</th>
					<th>Locator</th>
				</tr>
			</thead>
			<tbody>
				{% for page in pages %}
				<tr>
					<td>{{ page.label }}</td>
					<td class="truncate" title="{{ page.locator }}">{{ page.locator }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			new DataTable('#resultsTable');
		});
	</script>
</body>
</html>
